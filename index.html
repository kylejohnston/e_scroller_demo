<!-- 
 NOTE NOTE NOTE NOTE NOTE NOTE NOTE 
 This code is rough, but it works
 as a proof of concept for a responsive 
 horizontal scroll module.
 -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive H-Scroll Module</title>
    <link rel="icon" href="favicon.svg" type="image/x-icon">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: #fff;
            margin: 24px 0 0 0;
            padding: 0;
        }

        .hilite {
            position: absolute;
            width: 12px;
            height: 100vh;
            z-index: -10;
            top: 0;
            background: #f303;
            font-size: 12px;
            text-align: center;
        }
        .hilite.left {
            left: 0;
        }
        .hilite.right {
            right: 0;
            width: 36px;
        }

        .scroll-container {
            /* margin-left: 0;
            margin-right: auto; */
            margin-bottom: 48px;
            max-width: 100vw;
            position: relative; /* Enable absolute positioning for nav buttons */
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            margin-right: 12px;
        }

        .title {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            text-wrap: balance;
        }

        .nav-buttons {
            display: none;
            position: absolute;
            width: 100%;
            pointer-events: none;
            z-index: 20;
            top: 36px; /* Offset for header height */
            bottom: 0;
        }

        .nav-button {
            pointer-events: auto;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            background-color: #222;
            /* border: 2px solid #ddd; */
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: bold;
            color: #666;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            transition: all 0.3s ease;
            backdrop-filter: blur(4px);
            transition: all 3s ease-in;
        }

        .nav-button.prev {
            left: 0; /* Position to overhang the card by 12px */
            margin-left: -12px;
        }

        .nav-button.next {
            right: 12px;
        }

        .scroll-wrapper {
            display: flex;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            scroll-behavior: smooth;
            gap: 18px;
            padding: 0;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* Internet Explorer 10+ */
        }

        .scroll-wrapper::-webkit-scrollbar {
            display: none; /* WebKit */
        }

        .scroll-item {
            flex: 0 0 auto;
            width: calc((100vw - 9rem) / 4);
            height: auto;
            aspect-ratio: 4 / 5;
            background-color: #e0e0e0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            color: #666;
            scroll-snap-align: start;
            /* border: 2px solid #2222; */
            position: relative;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .scroll-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
            transition: all 0.3s ease;
        }

        .scroll-item > div {
            position: absolute;
            bottom: 8px;
            left: 8px;
            z-index: 2;
            background-color: white;
            border: 1px solid #949494;
            font-size: 13px;
            padding: 4px 8px;
            border-radius: 999px;
        }
        .fiveUp .scroll-item {
            width: calc((100vw - 10.1rem) / 5);
        }

        .nav-button:hover {
            background-color: rgba(240, 240, 240, 0.95);
            border-color: #bbb;
            transform: translateY(-50%) scale(1.1);
        }

        .nav-button:active {
            transform: translateY(-50%) scale(0.95);
        }

        .nav-button:disabled {
            opacity: 0.5;
            display: none;
            cursor: not-allowed;
            transform: translateY(-50%) scale(1);
        }

        .nav-button:disabled:hover {
            background-color: rgba(255, 255, 255, 0.95);
            border-color: #ddd;
            transform: translateY(-50%) scale(1);
        }

        /* Responsive design for above 900px */
        @media (min-width: 900px) {
            .scroll-container {
                /* margin-left: 36px; */
                padding-left: 36px;
            }
            .scroll-item:last-child {
            margin-right: 36px; /* Ensure last item has space on the right */
            }
            .header {
                margin-right: 36px;
            }
            .nav-buttons {
                display: block;
            }
            .nav-button.prev {
                left: 0px; /* 36px margin - 12px overhang = 24px */
            }
            .nav-button.next {
                right: 60px;
            }
            .scroll-wrapper {
                max-width: 100%;
            }
            .hilite {
                width: 36px;
            }
        }

        @media (max-width: 899px) {
            .scroll-item {
                width: calc((100vw - 4.5rem) / 2);

            }
            .fiveUp .scroll-item {
                width: calc((100vw - 5.25rem) / 3);

            }

            .scroll-item:last-child {
                margin-right: 12px; /* Ensure last item has space on the right */
            }
            .scroll-wrapper {
                gap: 12px;
            }
        }

        /* Additional styling for better visual hierarchy */
        .scroll-item:nth-child(odd) {
            background-color: #d0d0d0;
        }

        .scroll-item:hover {
            background-color: #c0c0c0;
            border-radius: 8px;
        }

        .scroll-item:hover img {
            transform: scale(105%);
        }
    </style>
</head>
<body>
    <!-- <div class="hilite left"></div> -->
    <!-- <div class="hilite right"></div> -->
    <div class="scroll-container">
        <div class="header">
            <h2 class="title">Horizontal Scroll Module Demo</h2>
        </div>
        <div class="nav-buttons">
            <button class="nav-button prev" id="prevBtn">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16 21.0005C15.7551 21.0008 15.5186 20.9107 15.336 20.7475L5.5 12.0005L15.341 3.25348C15.5405 3.0876 15.7967 3.00577 16.0555 3.0253C16.3143 3.04482 16.5553 3.16416 16.7277 3.3581C16.9001 3.55204 16.9903 3.8054 16.9794 4.06466C16.9684 4.32391 16.8571 4.56876 16.669 4.74748L8.5 12.0005L16.659 19.2535C16.8101 19.3879 16.9168 19.565 16.9652 19.7614C17.0135 19.9578 17.0012 20.1642 16.9298 20.3534C16.8585 20.5427 16.7314 20.7058 16.5654 20.8213C16.3994 20.9368 16.2022 20.9993 16 21.0005Z" fill="white"/>
                </svg>
            </button>
            <button class="nav-button next" id="nextBtn">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8.00003 20.9995C7.79737 20.9993 7.59953 20.9376 7.43275 20.8225C7.26597 20.7073 7.1381 20.5442 7.0661 20.3548C6.99409 20.1653 6.98135 19.9585 7.02955 19.7616C7.07776 19.5648 7.18464 19.3872 7.33603 19.2525L15.5 11.9995L7.33603 4.7465C7.1479 4.56779 7.0366 4.32294 7.02565 4.06368C7.0147 3.80443 7.10496 3.55107 7.27735 3.35712C7.44975 3.16318 7.69078 3.04384 7.94953 3.02432C8.20828 3.0048 8.46449 3.08662 8.66403 3.2525L18.5 11.9995L8.66403 20.7465C8.48143 20.9098 8.24498 20.9999 8.00003 20.9995Z" fill="white"/>
                </svg>
            </button>
        </div>
        <div class="scroll-wrapper" id="scrollWrapper">
            <div class="scroll-item" id="firstScrollItem">
                <img src="assets/visual.webp" alt="Card 1">
                <div>$ZZ.ZZ</div>
            </div>
            <div class="scroll-item">
                <img src="assets/il_1588xN.5072376823_a49x.webp" alt="Card 2">
                <div>$ZZ.ZZ</div>
            </div>
            <div class="scroll-item">
                <img src="assets/il_1588xN.6020429490_9907.webp" alt="Card 3">
                <div>$ZZ.ZZ</div>
            </div>
            <div class="scroll-item">
                <img src="assets/il_1588xN.4033323366_thcc.webp" alt="Card 4">
                <div>$ZZ.ZZ</div>
            </div>
            <div class="scroll-item">
                <img src="assets/il_1588xN.4392830974_8wzd.webp" alt="Card 5">
                <div>$ZZ.ZZ</div>
            </div>
            <div class="scroll-item">
                <img src="assets/il_1588xN.6643552118_l20j.webp" alt="Card 6">
                <div>$ZZ.ZZ</div>
            </div>
            <div class="scroll-item">
                <img src="assets/il_800x800.4542013974_3me7.webp" alt="Card 7">
                <div>$ZZ.ZZ</div>
            </div>
            <div class="scroll-item">
                <img src="assets/il_800x800.5982443524_devx.webp" alt="Card 8">
                <div>$ZZ.ZZ</div>
            </div>
            <div class="scroll-item">
                <img src="assets/visual.webp" alt="Card 9">
                <div>$ZZ.ZZ</div>
            </div>
            <div class="scroll-item">
                <img src="assets/visual.webp" alt="Card 10">
                <div>$ZZ.ZZ</div>
            </div>
            <div class="scroll-item">
                <img src="assets/visual.webp" alt="Card 11">
                <div>$ZZ.ZZ</div>
            </div>
            <div class="scroll-item">
                <img src="assets/visual.webp" alt="Card 12">
                <div>$ZZ.ZZ</div>
            </div>
        </div>
        <p id="viewportDisplay" style="margin-top: 18px;">Viewport: 0px</p>
    </div>

    <div class="scroll-container">
        <div class="header">
            <h2 class="title">Second Horizontal Scroll Module</h2>
        </div>
        <div class="nav-buttons">
            <button class="nav-button prev" id="prevBtn2">‹</button>
            <button class="nav-button next" id="nextBtn2">›</button>
        </div>
        <div class="scroll-wrapper fiveUp" id="scrollWrapper2">
            <div class="scroll-item" id="firstScrollItem2">
                <img src="assets/visual.webp" alt="Card 1">
                <div id="widthDisplay2">W: 0px</div>
            </div>
            <div class="scroll-item">
                <img src="assets/visual.webp" alt="Card 2">
                <div>2</div>
            </div>
            <div class="scroll-item">
                <img src="assets/visual.webp" alt="Card 3">
                <div>3</div>
            </div>
            <div class="scroll-item">
                <img src="assets/visual.webp" alt="Card 4">
                <div>4</div>
            </div>
            <div class="scroll-item">
                <img src="assets/visual.webp" alt="Card 5">
                <div>5</div>
            </div>
            <div class="scroll-item">
                <img src="assets/visual.webp" alt="Card 6">
                <div>6</div>
            </div>
            <div class="scroll-item">
                <img src="assets/visual.webp" alt="Card 7">
                <div>7</div>
            </div>
            <div class="scroll-item">
                <img src="assets/visual.webp" alt="Card 8">
                <div>8</div>
            </div>
            <div class="scroll-item">
                <img src="assets/visual.webp" alt="Card 9">
                <div>9</div>
            </div>
            <div class="scroll-item">
                <img src="assets/visual.webp" alt="Card 10">
                <div>10</div>
            </div>
            <div class="scroll-item">
                <img src="assets/visual.webp" alt="Card 11">
                <div>11</div>
            </div>
            <div class="scroll-item">
                <img src="assets/visual.webp" alt="Card 12">
                <div>12</div>
            </div>
        </div>
    </div>

    <script>
        // Create a reusable scroller class
        class HorizontalScroller {
            constructor(wrapperId, prevBtnId, nextBtnId, firstItemId, widthDisplayId, viewportDisplayId) {
                this.scrollWrapper = document.getElementById(wrapperId);
                this.prevBtn = document.getElementById(prevBtnId);
                this.nextBtn = document.getElementById(nextBtnId);

            // display the width of the card and viewport (just for design purpooses)
                this.firstScrollItem = document.getElementById(firstItemId); 
                this.widthDisplay = document.getElementById(widthDisplayId);
                this.viewportDisplay = document.getElementById(viewportDisplayId);
                
                this.init();
            }

// display the width of the card (for design purpooses)
            updateWidthDisplay() {
                if (this.firstScrollItem && this.widthDisplay) {
                    const actualWidth = this.firstScrollItem.getBoundingClientRect().width;
                    this.widthDisplay.textContent = `Card width: ${Math.round(actualWidth)}px`;
                }
            }
            updateViewportDisplay() {
                if (this.viewportDisplay) {
                    const viewportWidth = window.innerWidth;
                    this.viewportDisplay.textContent = `Viewport: ${viewportWidth}px`;
                }
            }

            updateButtonStates() {
                if (this.prevBtn && this.nextBtn && this.scrollWrapper) {
                    const maxScroll = this.scrollWrapper.scrollWidth - this.scrollWrapper.clientWidth;
                    this.prevBtn.disabled = this.scrollWrapper.scrollLeft <= 0;
                    this.nextBtn.disabled = this.scrollWrapper.scrollLeft >= maxScroll - 1;
                }
            }

            scrollToPosition(direction) {
                if (!this.scrollWrapper) return;
                
                const currentScrollLeft = this.scrollWrapper.scrollLeft;
                const containerWidth = this.scrollWrapper.clientWidth;
                const scrollAmount = containerWidth * 0.8; // Scroll by 80% of visible width
                let newScrollLeft;
                
                if (direction === 'next') {
                    newScrollLeft = currentScrollLeft + scrollAmount;
                } else {
                    newScrollLeft = currentScrollLeft - scrollAmount;
                }
                
                this.scrollWrapper.scrollTo({
                    left: newScrollLeft,
                    behavior: 'smooth'
                });
            }

            handleResize() {
                this.updateWidthDisplay();
                this.updateViewportDisplay();
            }

            init() {
                if (this.prevBtn) {
                    this.prevBtn.addEventListener('click', () => {
                        this.scrollToPosition('prev');
                    });
                }

                if (this.nextBtn) {
                    this.nextBtn.addEventListener('click', () => {
                        this.scrollToPosition('next');
                    });
                }

                if (this.scrollWrapper) {
                    this.scrollWrapper.addEventListener('scroll', () => {
                        this.updateButtonStates();
                    });
                }
                
                // Initial button state
                this.updateButtonStates();
                
                // Handle resize
                window.addEventListener('resize', () => {
                    this.handleResize();
                });
                
                // Initialize displays
                this.handleResize();
                
                // Update on load
                window.addEventListener('load', () => {
                    this.updateWidthDisplay();
                    this.updateViewportDisplay();
                });
            }
        }

        // Initialize both scrollers
        const scroller1 = new HorizontalScroller(
            'scrollWrapper', 
            'prevBtn', 
            'nextBtn', 
            'firstScrollItem', 
            'widthDisplay', 
            'viewportDisplay'
        );

        const scroller2 = new HorizontalScroller(
            'scrollWrapper2', 
            'prevBtn2', 
            'nextBtn2', 
            'firstScrollItem2', 
            'widthDisplay2', 
            'viewportDisplay2'
        );
    </script>
</body>
</html>
